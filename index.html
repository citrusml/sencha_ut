---
layout: default
slides:
  - image: /assets/images/slide/slide01.jpg
    caption: "caption: slide1 / スライド１の説明文が入ります。"
  - image: /assets/images/slide/slide02.jpg
    caption: "caption: slide2 / スライド２の説明文が入ります。"
  - image: /assets/images/slide/slide03.jpg
    caption: "caption: slide3 / スライド３の説明文が入ります。"
---

<div class="slideshow-container">
  {% for slide in page.slides %}
    <div class="mySlides fade-animation">
      <img src="{{ slide.image | relative_url }}" alt="{{ slide.caption }}">
      {% if slide.caption %}
        <div class="slide-caption">
          <span class="caption-text">{{ slide.caption }}</span>
        </div>
      {% endif %}
    </div>
  {% endfor %}

  <div class="dot-container">
    {% for slide in page.slides %}
      <span class="dot" onclick="currentSlide({{ forloop.index }})"></span>
    {% endfor %}
  </div>
  <div class="fade-overlay" aria-hidden="true"></div>
</div>

<div class="container my-5 px-4" style="max-width: 1400px;">
  <div class="row">
    
    <div class="col-lg-8 mb-5">
      <section>
        <h1 class="mb-4" style="font-family: 'Shippori Mincho', serif; color: #3d4c38;">
          東京大学薫風流煎茶同好会
        </h1>
        <p class="lead">私たちは煎茶道を通じて和の心を学ぶサークルです。</p>
        
        <h2 class="mt-5 h4 border-bottom pb-2" style="border-color: #e0dcd0 !important;">
          同好会について
        </h2>
        <p>煎茶道は抹茶道とは異なり、急須を使ってお茶を淹れる形式です。形式にとらわれすぎず、美味しいお茶を楽しみながら交流することを大切にしています。</p>

        <h2 class="mt-5 h4 border-bottom pb-2" style="border-color: #e0dcd0 !important;">
          新入会員募集中！
        </h2>
        <p>学年を問わず、いつでも入会を歓迎しています。興味のある方はぜひ一度、活動を見学しに来てください。</p>
        
        <a href="{{ site.baseurl }}/join" class="btn btn-primary mt-3 px-4 py-2">
          Join Us
        </a>
      </section>
    </div>

    <div class="col-lg-4">
      <div class="p-4 bg-white rounded shadow-sm border" style="border-color: #e0dcd0 !important;">
        <h3 class="h5 mb-3 text-center" style="color: #3d4c38;">📢 Latest News</h3>
        <div class="twitter-container">
          <blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ほうじ茶のお稽古が始まりました。すっかり冬ですね❄️<br>このお手前では、自分で茶葉を焙じます。茶葉を煎る際の音やふわりと立つ香りで焙じ具合を見極めます。<br>部屋いっぱいに広がる香ばしい香りに、とても幸せな気分になりました🍵【A. N. 】 <a href="https://t.co/qacqhX5Agw">pic.twitter.com/qacqhX5Agw</a></p>&mdash; 東京大学薫風流煎茶同好会 (@sencha_ut) <a href="https://twitter.com/sencha_ut/status/1997507813820727519?ref_src=twsrc%5Etfw">December 7, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
          <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
let slideIndex = 1; // 1-based
let slideTimer = null;
let slides = [];
let dots = [];
let overlay = null;
let animating = false;
const transitionDuration = 1500; // ms
const halfDuration = transitionDuration / 2;
const intervalDuration = 8000; // 8s

document.addEventListener('DOMContentLoaded', function() {
  slides = Array.from(document.querySelectorAll('.mySlides'));
  dots = Array.from(document.querySelectorAll('.dot'));
  overlay = document.querySelector('.fade-overlay');
  if (slides.length === 0) return;

  // 初期表示の準備
  slides.forEach(s => { s.style.display = 'block'; s.classList.remove('active'); });
  slides[0].classList.add('active');
  if (overlay) {
    overlay.style.opacity = 0;
    overlay.style.transition = `opacity ${halfDuration}ms ease-in-out`;
  }
  updateDots(1);
  slideTimer = setInterval(() => plusSlides(1), intervalDuration);
});

function plusSlides(n) {
  if (animating) return;
  clearInterval(slideTimer);
  gotoSlide(slideIndex + n);
  slideTimer = setInterval(() => plusSlides(1), intervalDuration);
}

function currentSlide(n) {
  if (animating) return;
  clearInterval(slideTimer);
  gotoSlide(n);
  slideTimer = setInterval(() => plusSlides(1), intervalDuration);
}

function gotoSlide(target) {
  if (slides.length === 0) return;
  const max = slides.length;
  if (target > max) target = 1;
  if (target < 1) target = max;
  if (target === slideIndex) return;

  animating = true;
  const oldIdx = slideIndex - 1;
  const newIdx = target - 1;
  const oldSlide = slides[oldIdx];
  const newSlide = slides[newIdx];

  // フェードアウト→入れ替え→フェードイン（黒を経由）
  if (overlay) {
    overlay.style.transition = `opacity ${halfDuration}ms ease-in-out`;
    overlay.style.opacity = 0.3; // サイト背景色を30%で被せる
  } else {
    // フォールバック: 古いスライドを一旦非表示
    oldSlide.classList.remove('active');
  }

  setTimeout(() => {
    // 画面が黒くなっているのでスライドを切替
    oldSlide.classList.remove('active');
    newSlide.classList.add('active');
    updateDots(target);

    if (overlay) {
      overlay.style.transition = `opacity ${halfDuration}ms ease-in-out`;
      overlay.style.opacity = 0; // 黒を戻す
    }

    setTimeout(() => {
      slideIndex = target;
      animating = false;
    }, halfDuration);
  }, halfDuration);
}

function updateDots(index) {
  if (!dots || dots.length === 0) return;
  dots.forEach(d => d.classList.remove('active'));
  const idx = (index - 1 + dots.length) % dots.length;
  dots[idx].classList.add('active');
}
</script>